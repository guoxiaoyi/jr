$(document).ready(function(){$(window).scroll(function(){$("section.anima").each(function(){var sectionTop=$(this).offset().top,windowTop=$(window).scrollTop(),tolerancia=400;windowTop+tolerancia>sectionTop&&$(this).addClass("in")})})}),jQuery.fn.projetos=function(options){var defaults={itensPage:1},transition=1e3,pageTransition=8e3,anim=!1,settings=$.extend({},defaults,options);return this.each(function(i,carrossel){var $this=$(carrossel),page=0;pages=Math.floor($this.find(".item").length/settings.itensPage),$pages="",$controls="",$itens="",init=function(){$itens=$this.find(".item"),$itens.first().addClass("active in"),setTimeout(function(){$itens.first().removeClass("in"),anim=!1},transition),createNav()},createNav=function(){if(pages>1){$this.append('<nav class="pages"/>'),$pages=$this.find(".pages"),$controls=$this.find(".controls");for(var i=0;pages>i;i++)$pages.append('<a href="javascript:;" class="page">'+(i+1)+'<span class="timer"/><div class="hover"/></a>');$pages.find(".page").first().addClass("active"),auto()}},changePage=function(p,target){$this.parent().find("h2").css($itens.eq(target).attr("data-color")?{color:$itens.eq(target).attr("data-color")}:{color:""}),$itens.eq(p).addClass("out").end().eq(target).addClass("active in"),page=target,$pages.find(".page").find(".timer").stop(),auto(),setTimeout(function(){$itens.removeClass("out in active").eq(target).addClass("active"),anim=!1},transition)},auto=function(){$pages.find(".page").removeClass("active").find(".timer").css({width:""}).end().eq(page).addClass("active").find(".timer").css({width:"100%"}).stop().animate({width:0},pageTransition,"linear",function(){pages-1>page?changePage(page,page+1):changePage(page,0)})},init(),$pages.on("click",".page",function(){if(!anim&&!$(this).hasClass("active")){anim=!0;var target=$pages.find(".page").index($(this));changePage(page,target)}return!1}),$controls.on("click",".prev",function(){return anim||(anim=!0,page>0?changePage(page,page-1):changePage(page,pages-1)),!1}),$controls.on("click",".next",function(){return anim||(anim=!0,pages-1>page?changePage(page,page+1):changePage(page,0)),!1})})};var contato=angular.module("contato",[]),home=angular.module("home",[]),projetos=angular.module("projetos",[]),sobre=angular.module("sobre",[]),$app=angular.module("app",["ngRoute","ngResource","ngSanitize","ngAnimate","projetos","home","contato","sobre"]);$app.config(["$httpProvider","$routeProvider","$locationProvider",function($httpProvider,$routeProvider,$locationProvider){$httpProvider.responseInterceptors.push(function($q,$rootScope){return function(promise){return $rootScope.hideLoader(),promise.then(function(response){return response},function(){})}}),$routeProvider.when("/:lang?/projetos/:filter?",{templateUrl:"paginas/projetos/projetos.php",controller:"projetosController",page:"projetos"}).when("/:lang?/projeto/:slug",{templateUrl:"paginas/projetos/projeto.php",controller:"projetoController",page:"projeto"}).when("/:lang?/contato/:trabalhe?",{templateUrl:"paginas/contato/contato.php",controller:"contatoController",page:"contato"}).when("/:lang?/sobre",{templateUrl:"paginas/sobre/sobre.php",controller:"sobreController",page:"sobre"}).when("/:lang?/",{templateUrl:"paginas/home/home.php",controller:"homeController",page:"home"}).otherwise({redirectTo:"/"}),$locationProvider.html5Mode(!0)}]),$app.run(function($rootScope){$rootScope.showLoaderFlag=!1,$rootScope.showLoader=function(){$rootScope.showLoaderFlag=!0},$rootScope.hideLoader=function(){$rootScope.showLoaderFlag=!1},$rootScope.inArray=function(needle,haystack,param){for(var length=haystack.length,p=param?param:"id",i=0;length>i;i++)if(haystack[i][p]==needle)return i;return-1},$rootScope.getImg=function(url,file){return baseUrl+"img/"+url+"/"+file},$rootScope.baseUrl=function(url){var l="pt"==lang?"":lang+"/";return baseUrl+l+url},$rootScope.baseDir=function(url){return baseDir+url},$rootScope.scrollTop=function(){var top=.5*$(window).scrollTop();TweenMax.to(window,top/1e3,{scrollTo:{y:0,autoKill:!0},ease:Power1.easeOut,overwrite:5})},$rootScope.pageLoad=function(){$("html, body").addClass("scrollHidden"),TweenMax.to($(".load-page"),.2,{css:{opacity:1,display:"block"}}),TweenMax.to($(".load-page span"),.1,{css:{opacity:0}})},$rootScope.$on("$routeChangeStart",function(event,next){$rootScope.height=$(window).height(),$rootScope.scrollTop(),$rootScope.page=next.$$route.page?next.$$route.page:"",TweenMax.to($(".load-page span"),.5,{delay:2,css:{opacity:1},onComplete:function(){TweenMax.to($(".load-page"),.5,{css:{opacity:0,display:"none"}}),$("html, body").removeClass("scrollHidden")}}),$("#address").hide(),setTimeout(function(){$("#address").show()},1e3)})}),$app.filter("categoria",function(){return function(arr,prop){if(""!==prop&&prop){var arrFiltred=[];return angular.forEach(arr,function(projeto){angular.forEach(projeto.categoria,function(categoria){categoria==prop&&arrFiltred.push(projeto)})}),arrFiltred}return arr}}),$app.filter("filtroPersonalizado",function(){return function(arr,prop,filter,param){var arrFiltred=[],flag=!0;return filter?(angular.forEach(arr,function(hotel){if(angular.isObject(filter))flag=!1,angular.forEach(filter,function(n,k){n&&(flag=!0,angular.forEach(hotel[prop],function(valor){angular.equals(valor.slug,k)&&(flag=!0,arrFiltred.push(hotel))}))});else if("custom_fields"==prop)if("valor"==param){var precoMin=parseFloat(filter.split(",")[0]),precoMax=parseFloat(filter.split(",")[1]),preco=parseFloat(hotel[prop][param]);preco>=precoMin&&precoMax>=preco&&(flag=!0,arrFiltred.push(hotel))}else angular.forEach(hotel[prop],function(valor){angular.equals(parseInt(valor),filter)&&(flag=!0,arrFiltred.push(hotel))});else angular.forEach(hotel[prop],function(valor){angular.equals(valor.slug,filter)&&(flag=!0,arrFiltred.push(hotel))})}),flag||(arrFiltred=arr)):arrFiltred=arr,arrFiltred}}),$app.filter("startFrom",function(){return function(input,start){return start=+start,input.slice(start)}}),$app.filter("range",function(){return function(input,total){total=parseInt(total);for(var i=0;total>i;i++)input.push(i);return input}}),$app.filter("unique",function(){return function(items,filterOn){if(filterOn===!1)return items;if((filterOn||angular.isUndefined(filterOn))&&angular.isArray(items)){var newItems=[],extractValueToCompare=function(item){return angular.isObject(item)&&angular.isString(filterOn)?item[filterOn]:item};angular.forEach(items,function(item){for(var isDuplicate=!1,i=0;i<newItems.length;i++)if(angular.equals(extractValueToCompare(newItems[i]),extractValueToCompare(item))){isDuplicate=!0;break}isDuplicate||newItems.push(item)}),items=newItems}return items}}),projetos.directive("carrossel",["$document",function(){return{restrict:"E",scope:{carrossel:"=",settings:"=",slug:"="},templateUrl:baseUrl+"paginas/projetos/carrossel.html",link:function(scope,iElement){scope.curPage=[],scope.next=function(carrossel){scope.curPage[carrossel]=scope.curPage[carrossel]<scope.carrossel[carrossel].img.length-1?scope.curPage[carrossel]+1:0},scope.prev=function(carrossel){scope.curPage[carrossel]=scope.curPage[carrossel]>0?scope.curPage[carrossel]-1:scope.carrossel[carrossel].img.length-1},scope.goTo=function(carrossel,page){scope.curPage[carrossel]=page},scope.getStyle=function(curPage,index){var style={};return style.borderColor=scope.settings["default"].color,curPage==index&&(style.backgroundColor=scope.settings["default"].color),style},iElement.on("mouseenter","nav a",function(){$(this).hasClass("active")||$(this).hasClass("bg")||$(this).css("background-color",scope.settings["default"].color)}),iElement.on("mouseleave","nav a",function(){$(this).hasClass("active")||$(this).hasClass("bg")||$(this).css("background-color","")}),scope.$watch("carrossel",function(){angular.forEach(scope.carrossel,function(carrossel,i){scope.carrossel[i].key=i,scope.curPage.push(0)})})}}}]),projetos.directive("destaque",["$document",function(){return{restrict:"E",scope:{destaques:"=",settings:"=",slug:"="},templateUrl:baseUrl+"paginas/projetos/destaque.html",link:function(scope,iElement){scope.curPage=[],scope.next=function(destaque){scope.curPage[destaque]=scope.curPage[destaque]<scope.destaques[destaque].img.length-1?scope.curPage[destaque]+1:0},scope.prev=function(destaque){scope.curPage[destaque]=scope.curPage[destaque]>0?scope.curPage[destaque]-1:scope.destaques[destaque].img.length-1},scope.goTo=function(destaque,page){scope.curPage[destaque]=page},scope.getStyle=function(bg,curPage,index){var style={};return bg?curPage!=index&&(style=scope.settings.bg):(style.borderColor=scope.settings["default"].color,curPage==index&&(style.backgroundColor=scope.settings["default"].color)),style},scope.estring=function(img){return angular.isString(img)},iElement.on("mouseenter","nav a",function(){$(this).hasClass("active")||$(this).hasClass("bg")||$(this).css("background-color",scope.settings["default"].color)}),iElement.on("mouseleave","nav a",function(){$(this).hasClass("active")||$(this).hasClass("bg")||$(this).css("background-color","")}),scope.$watch("destaques",function(){angular.forEach(scope.destaques,function(destaque,i){scope.destaques[i].key=i,scope.curPage.push(0)})})}}}]),projetos.directive("numeros",["$document",function(){return{restrict:"A",scope:{numeros:"="},link:function(scope,iElement){var $this=$(iElement),$icon=$this.parent().parent().parent().parent().find("img"),top=$this.offset().top,$window=$(window),show=!1,num=parseInt(scope.numeros),cont=0,time=40,increment=Math.round(num/(2e3/time)),replaceNumber=function(n){n+="",n=n.split("");for(var newnum="",i=0;i<n.length;i++)newnum+=n[i],(n.length-1-i)%3===0&&n.length-1-i>0&&(newnum+=".");return newnum},scrollNumeros=function(){if(!show){var wh=$window.height(),wt=$window.scrollTop();if(wh+wt>top){show=!0,$window.off("scroll",scrollNumeros),TweenMax.to($icon,.4,{css:{opacity:1}});var contador=setInterval(function(){cont>num&&(cont=num);var n=replaceNumber(cont);$this.text(n),num>cont?cont+=increment:clearInterval(contador)},time)}}};$window.on("scroll",scrollNumeros)}}}]),projetos.directive("screenshots",["$document",function(){return{restrict:"E",scope:{screenshots:"=screens",slug:"="},templateUrl:baseUrl+"paginas/projetos/screenshots.html",link:function(){$(window).scroll(function(){})}}}]),$app.service("categoriasSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/categorias")}),$app.service("clientesSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/clientes")}),$app.service("contatoSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/contato")}),$app.service("frasesSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/frases")}),$app.service("homeSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/home")}),$app.service("marcaSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/marca")}),$app.service("projetosSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/projetos")}),$app.service("textosProjetoSrv",function($resource){return $resource(baseUrl+"api/"+lang+"/textos-projeto")}),contato.controller("contatoController",["$scope","$routeParams","$http","contatoSrv",function($scope,$routeParams,$http,contatoSrv){function msgOk(){$("#page-contato form").find(".msgError").text("")}function msgError(){$("#page-contato form").find(".msgError").text("en"==$routeParams.lang?"Oops! Fill in the field above.":"Ops! Preencha o campo acima.")}function msgErrorEmail(){$("#page-contato form").find(".msgError").text("en"==$routeParams.lang?"Oops! Fill in the email correctly.":"Ops! Preencha o e-mail corretamente.")}$scope.forms={contato:{steps:3,cur:1},trabalhe:{steps:6,cur:1}},$scope.contato="",contatoSrv.get(function(data){$scope.contato=data}),$scope.finished=!1,$scope.trabalhe=$routeParams.trabalhe&&""!==$routeParams.trabalhe?!0:!1,$scope.result=!1,$scope.validateEmail=function(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)},$scope.enviarEmail=function(_nome,_email,_msg){$http.post($scope.baseUrl("paginas/contato/enviarContato.php"),$.param({nome:_nome,email:_email,mensagem:_msg}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(data){$scope.finished="ok"===data?!0:!1}).error(function(){alert("Error")})},$scope.enviarTrabalhe=function(_nome,_email,_site,_linkedin,_contrato,_cappen){$http.post($scope.baseUrl("paginas/contato/trabalhe.php"),$.param({nome:_nome,email:_email,site:_site,linkedin:_linkedin,contrato:_contrato,cappen:_cappen}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(data){$scope.finished="ok"===data?!0:!1}).error(function(){alert("Error")})},setTimeout(function(){$("header#principal").removeClass("white")},100),$scope.dados=Array(),$scope.submit=function(event,id){setTimeout(function(){$(event.target).find(".campos").find("input,textarea").focus()},300),"contato"==id?1===$scope.forms[id].cur?""!==document.getElementById("cont_nome").value?($scope.forms[id].cur++,$scope.dados[0]=document.getElementById("cont_nome").value,msgOk()):(document.getElementById("cont_nome").focus(),msgError()):2===$scope.forms[id].cur?($scope.result=$scope.validateEmail(document.getElementById("cont_email").value),$scope.result?($scope.forms[id].cur++,$scope.dados[1]=document.getElementById("cont_email").value,msgOk()):msgErrorEmail()):3===$scope.forms[id].cur&&(""!==document.getElementById("cont_msg").value?($scope.dados[2]=document.getElementById("cont_msg").value,$scope.enviarEmail($scope.dados[0],$scope.dados[1],$scope.dados[2]),msgOk()):(document.getElementById("cont_msg").focus(),msgError())):1===$scope.forms[id].cur?""!==document.getElementById("trab_nome").value?($scope.forms[id].cur++,$scope.dados[0]=document.getElementById("trab_nome").value,msgOk()):(document.getElementById("trab_nome").focus(),msgError()):2===$scope.forms[id].cur?""!==document.getElementById("trab_email").value?($scope.result=$scope.validateEmail(document.getElementById("trab_email").value),$scope.result?($scope.forms[id].cur++,$scope.dados[1]=document.getElementById("trab_email").value,msgOk()):msgErrorEmail()):document.getElementById("trab_email").focus():3===$scope.forms[id].cur?($scope.dados[2]=document.getElementById("trab_site").value,$scope.forms[id].cur++):4===$scope.forms[id].cur?($scope.forms[id].cur++,$scope.dados[3]=document.getElementById("trab_link").value):5===$scope.forms[id].cur?""!==document.getElementById("trab_contra").value?($scope.dados[4]=document.getElementById("trab_contra").value,$scope.forms[id].cur++,msgOk()):(document.getElementById("trab_contra").focus(),msgError()):6===$scope.forms[id].cur&&(""!==document.getElementById("trab_cappen").value?($scope.dados[5]=document.getElementById("trab_cappen").value,$scope.enviarTrabalhe($scope.dados[0],$scope.dados[1],$scope.dados[2],$scope.dados[3],$scope.dados[4],$scope.dados[5]),msgOk()):(document.getElementById("trab_cappen").focus(),msgError()))}}]),home.controller("homeController",["$scope","$routeParams","$timeout","homeSrv",function($scope,$routeParams,$timeout,homeSrv){$scope.frases=["on a trip.","dancing.","bananas.","have a beer.","cappen.","socialize.","play fifa.","fall in love.","work hard.","go go!"],$scope.fraseShow=[];var $frases=$("#home").find(".topo .frase"),time=5e3,timeCappen=7e3;$scope.home="",homeSrv.get(function(data){$scope.home=data,$timeout(function(){$("#home").find(".carrossel").projetos()},1e3)}),$scope.getFrase=function(){for($scope.fraseShow.length==$scope.frases.length&&($scope.fraseShow=[$scope.fraseShow[$scope.fraseShow.length-1]]),num=Math.floor(Math.random()*$scope.frases.length);$scope.fraseShow.indexOf(num)>=0;)num=Math.floor(Math.random()*$scope.frases.length);$scope.fraseShow.push(num);var frase=$scope.frases[num];return frase},$scope.changeFrase=function(){var frase=$scope.getFrase(),t=0;$frases.text(frase),TweenMax.to($frases,.6,{css:{opacity:1}}),TweenMax.to($frases,.5,{css:{rotation:"0_cw"},ease:Power3.easeOut,onComplete:function(){t="cappen."==frase?timeCappen:time,$timeout(function(){TweenMax.to($frases,.6,{css:{opacity:0}}),TweenMax.to($frases,.1,{css:{rotation:"180_cw"},ease:Linear.easeNone,onComplete:function(){TweenMax.to($frases,.3,{css:{opacity:1}}),$scope.changeFrase()}})},t)}})},$scope.pageLoad(),$scope.$on("$routeChangeStart",function(event,next){next.$$route.page&&$("header#principal").removeClass("white")}),TweenMax.to($("header#principal h1, header#principal a.btMenu"),.1,{css:{opacity:0},onComplete:function(){TweenMax.to($("header#principal.home h1"),.3,{delay:3,css:{opacity:1}}),TweenMax.to($("header#principal.home a.btMenu"),.3,{delay:3.8,css:{opacity:1}}),TweenMax.to($("#home .topo .go"),1,{delay:4.2,css:{opacity:1,marginTop:"-120px"}}),TweenMax.to($("#home .topo .text"),.8,{delay:4.8,css:{opacity:1,marginTop:"0px"}})}}),$("header#principal").addClass("white"),TweenMax.to($frases,2,{css:{rotation:-180}}),$timeout($scope.changeFrase,time);var lastScroll=0,iPadAgent=null!=navigator.userAgent.match(/iPad/i),iPodAgent=null!=navigator.userAgent.match(/iPhone/i),AndroidAgent=null!=navigator.userAgent.match(/Android/i),webOSAgent=null!=navigator.userAgent.match(/webOS/i);iPadAgent||iPodAgent||AndroidAgent||webOSAgent||$(window).scroll(function(){var st=$(this).scrollTop();st>lastScroll&&$(window).scrollTop()>=0&&$(window).scrollTop()<=wh&&(TweenMax.to($(window),3,{scrollTo:{y:wh,autoKill:!0},ease:Power4.easeOut,overwrite:5}),TweenMax.to($(".bg-topo"),2,{css:{opacity:1,top:.5*-wh},ease:Power4.easeOut})),lastScroll>st&&$(window).scrollTop()<=wh&&(TweenMax.to($(window),3,{scrollTo:{y:0,autoKill:!0},ease:Power4.easeOut,overwrite:5}),TweenMax.to($(".bg-topo"),2,{css:{opacity:1,top:"0px"},ease:Power4.easeOut})),lastScroll=st})}]),projetos.controller("projetoController",["$scope","$sce","$routeParams","projetosSrv","textosProjetoSrv",function($scope,$sce,$routeParams,projetosSrv,textosProjetoSrv){$scope.projeto=[],$scope.bt=[],$scope.textos=[],textosProjetoSrv.get(function(data){$scope.bt=data.bt,$scope.textos=data.textoGeral}),projetosSrv.query($routeParams,function(data){$scope.projeto=data[0],$scope.projeto.headerSettings?$("header#principal").addClass($scope.projeto.headerSettings.headerClass):$("header#principal").removeClass("white")}),$scope.next=function(){$("body").removeClass("projeto prev").addClass("projeto next")},$scope.prev=function(){$("body").removeClass("projeto next").addClass("projeto prev")},$scope.pageLoad(),setTimeout(function(){TweenMax.to($("#projeto header").find("h2, p, a"),.1,{css:{opacity:0,left:"-100px"},onComplete:function(){TweenMax.to($("#projeto header").find("h2"),1,{delay:2.8,css:{opacity:1,left:"0px"},ease:Power3.easeOut}),TweenMax.to($("#projeto header").find("p"),1,{delay:3,css:{opacity:1,left:"0px"},ease:Power3.easeOut}),TweenMax.to($("#projeto header").find("a"),1,{delay:3.2,css:{opacity:1,left:"0px"},ease:Power3.easeOut})}})},300),$scope.desafio=!1,$scope.solucao=!1,$scope.resultado=!1,$scope.social=!1,$scope.destaque=Array(),$scope.indiceDestaque=0,$scope.tempo=.7,$scope.d=.2;for(var i=0;i<$("#projeto .destaque").length;i++)$scope.destaque[i]=!1;$scope.animaDesafio=function(){if($("#projeto  .desafio").length){var alvo01=$(".desafio .container h3"),alvo02=$(".desafio .container p");$(window).scrollTop()>=$(".desafio").offset().top-$(window).height()/2&&($scope.desafio=!0,TweenMax.to(alvo01,$scope.tempo,{alpha:1,bottom:0,ease:Power3.easeOut}),TweenMax.to(alvo02,$scope.tempo,{alpha:1,bottom:0,ease:Power3.easeOut,delay:$scope.d}))}},$scope.animaResultado=function(){if($("#projeto .resultado").length){var alvo01=$("#projeto .resultado .container h3"),alvo02=$("#projeto .resultado .container p");$(window).scrollTop()>=$("#projeto .resultado").offset().top-$(window).height()/2&&($scope.resultado=!0,TweenMax.to(alvo01,$scope.tempo,{alpha:1,bottom:0,ease:Power3.easeOut}),TweenMax.to(alvo02,$scope.tempo,{alpha:1,bottom:0,ease:Power3.easeOut,delay:$scope.d}))}},$scope.animaSolucao=function(){if($("#projeto .solucao").length){var alvo01=$(".solucao .container h3"),alvo02=$(".solucao .container p");$(window).scrollTop()>=$(".solucao").offset().top-$(window).height()/2&&($scope.solucao=!0,TweenMax.to(alvo01,$scope.tempo,{alpha:1,right:0,ease:Power3.easeOut}),TweenMax.to(alvo02,$scope.tempo,{alpha:1,right:0,ease:Power3.easeOut,delay:$scope.d}))}},$scope.animaDestaque=function(){($("#projeto .destaque.geral").length||$(".destaque.macbook-p").length||$(".destaque.imac").length)&&$(".destaque.geral, .destaque.macbook-p, .destaque.imac").each(function(){$(window).scrollTop()>=$(this).offset().top-$(window).height()/2&&($scope.destaque[$scope.indiceDestaque++]=!0,$(this).hasClass("left")?(TweenMax.to($(this).find("h3"),$scope.tempo,{alpha:1,left:0,ease:Power3.easeOut}),TweenMax.to($(this).find("p"),$scope.tempo,{alpha:1,left:0,ease:Power3.easeOut,delay:$scope.d})):$(this).hasClass("right")&&(TweenMax.to($(this).find("h3"),$scope.tempo,{alpha:1,right:0,ease:Power3.easeOut}),TweenMax.to($(this).find("p"),$scope.tempo,{alpha:1,right:0,ease:Power3.easeOut,delay:$scope.d})))})},$scope.animaSocial=function(){if($("#projeto .destaque.center").length){var alvo01=$("#projeto .destaque.center .container h3"),alvo02=$("#projeto .destaque.center .container p");$(window).scrollTop()>=$(".center").offset().top-$(window).height()/2&&($scope.social=!0,TweenMax.to(alvo01,$scope.tempo,{alpha:1,bottom:0,ease:Power3.easeOut}),TweenMax.to(alvo02,$scope.tempo,{alpha:1,bottom:0,ease:Power3.easeOut,delay:$scope.d}))}},$scope.animaScreenshots=function(){$("#projeto .screenshots img").length&&$("#projeto .screenshots img").each(function(){var alvo01=$(this);$(window).scrollTop()>=alvo01.offset().top-$(window).height()/1.2&&TweenMax.to(alvo01,2,{alpha:1,top:0,ease:Power3.easeOut})})},setTimeout(function(){$(window).scroll(function(){$scope.desafio||$scope.animaDesafio(),$scope.solucao||$scope.animaSolucao(),$scope.social||$("#projeto .destaque.center").length&&$scope.animaSocial(),$scope.destaque[$scope.indiceDestaque]||$scope.animaDestaque(),$scope.resultado||$scope.animaResultado(),$("#projeto .screenshots").length&&$scope.animaScreenshots()})},3e3)}]),projetos.controller("projetosController",["$scope","$routeParams","projetosSrv","categoriasSrv",function($scope,$routeParams,projetosSrv,categoriasSrv){switch($scope.projetos=[],$scope.curPage=1,$scope.sizePage=8,$scope.categorias=[],$scope.filtro=$routeParams.filter,$routeParams.lang){case"en":$scope.todosProjetos="all projects",$scope.verMais="see more";break;default:$scope.todosProjetos="todos projetos",$scope.verMais="veja mais"}projetosSrv.get(function(data){$scope.projetos=data.projetos}),categoriasSrv.get(function(data){$scope.categorias=data.categorias}),$scope.filtrar=function(filtro){$scope.curPage=1,$scope.filtro=filtro},$scope.seeMore=function(){$scope.sizePage+=9},$scope.overFilter=function(event){$(".filter").addClass("removeActive"),$(event.currentTarget).removeClass("removeActive")},$scope.outFilter=function(){$(".filter").removeClass("removeActive")},void 0===$routeParams.filter&&$scope.pageLoad()}]),sobre.controller("sobreController",["$scope","$routeParams","$interval","marcaSrv","categoriasSrv","clientesSrv","frasesSrv",function($scope,$routeParams,$interval,marcaSrv,categoriasSrv,clientesSrv,frasesSrv){$scope.categorias={categorias:[]},$scope.curCategoria=0,$scope.marca=[],$scope.clientes={clientes:[]},$scope.frases={frases:[]},$scope.curFrase=0,$scope.intervalFrases="",marcaSrv.query(function(data){$scope.marca=data}),categoriasSrv.get(function(data){$scope.categorias=data}),clientesSrv.get(function(data){$scope.clientes=data}),frasesSrv.get(function(data){$scope.frases=data}),$scope.nextCategoria=function(){$scope.curCategoria<$scope.categorias.categorias.length-1?$scope.curCategoria++:$scope.curCategoria=0},$scope.prevCategoria=function(){$scope.curCategoria>0?$scope.curCategoria--:$scope.curCategoria=$scope.categorias.categorias.length-1},$scope.changeFrase=function(){$scope.curFrase>=$scope.frases.length-1?$scope.curFrase=0:$scope.curFrase++,$interval.cancel($scope.intervalFrases),$scope.intervalFrases=$interval($scope.changeFrase,1e4)},$scope.intervalFrases=$interval($scope.changeFrase,1e4),$(window).focus(function(){$interval.cancel($scope.intervalFrases),$scope.intervalFrases=$interval($scope.changeFrase,1e4)}).blur(function(){$interval.cancel($scope.intervalFrases)}),$scope.titleCategoria=function(title){switch(title=title.split(" "),title.length){case 1:title='<span class="rosa">'+title[0]+"</span>";break;case 2:title=title[0]+'<br /><span class="rosa">'+title[1]+"</span>";break;case 3:title=title[0]+'<br /><span class="branco">'+title[1]+' </span><span class="rosa">'+title[2]+"</span>"}return title},$scope.pageLoad(),$("#sobre #descricaoMarca .descMarca#circle .abertura").delay(3e3).fadeOut(1e3),TweenMax.to($("#sobre #descricaoMarca .descMarca#circle .text h2"),1,{delay:3.5,css:{opacity:1,top:"0px"},ease:Power3.easeOut}),TweenMax.to($("#sobre #descricaoMarca .descMarca#circle .text p"),1,{delay:4,css:{opacity:1,top:"0px"},ease:Power3.easeOut}),$("header#principal").removeClass("white")}]);var wh=$(window).height();$(window).load(function(){setTimeout(function(){TweenMax.to($("#home .bg-topo"),120,{css:{scale:1.4,rotate:".7deg"},repeat:-1,yoyo:!0})},6e3),setInterval(function(){wh=$(window).height(),$("#moldura").find(".moldura").each(function(i,moldura){var $last=$("body").children("section:last"),$moldura=$(moldura),height=$last.outerHeight()+$last.offset().top,lacoHeight=$("#moldura").find(".laco").outerHeight(),mb=40,m=8;$moldura.hasClass("left")&&$moldura.height(height),$moldura.hasClass("right-1")&&$moldura.height(height-lacoHeight-mb+m),$moldura.hasClass("laco")&&$moldura.css({top:height-lacoHeight-mb}),$moldura.hasClass("right-2")&&$moldura.css({top:height-mb-m,height:mb+m}),$moldura.hasClass("bottom")&&$moldura.css({top:height-10})}).fadeTo(300,1)},1e3),$("#home").find(".projetos , .topo , .sobre").css("height",wh),$("#home").find(".projetos").css("margin-top",wh),$("#projeto .banner").css("height",wh),$(".marginFooter").css("height",$("#address").height()-10),setInterval(function(){$("#home").find(".projetos , .topo , .sobre").css("height",wh),$("#home").find(".projetos").css("margin-top",wh)},1e3),setInterval(function(){{var projeto=$("#sobre .projetos");projeto.innerHeight()}$("#sobre section.projetos nav a.bt").click(function(){$("#sobre section.projetos nav div.btBlock").show().fadeOut(1e3)}),$("#menu .menu a").mouseenter(function(){$("#navSound")[0].play()}),$("a.bt-projeto-read, #projeto header a.bt-projeto-see, a.find-about, #page-contato #feedback a.see-works, #home .projetos .item .text a").mouseenter(function(){$("#btnSound")[0].play()})},1e3),$(window).resize(function(){wh=$(window).height(),$("#home").find(".projetos , .topo , .sobre").css("height",wh),$("#home").find(".projetos").css("margin-top",wh),$("#projeto .banner").css("height",wh),$(".marginFooter").css("height",$("#address").height())});var jh=$("#sobre .projetos").height();$("#sobre .projetos .item").css({"min-height":jh}),$("#sobre .projetos nav .bt").click(function(){if($(this).hasClass("btNext")){var valor=$(this).data("valor"),soma=parseInt(valor)+115;$(this).data("valor",soma),$(this).css("background-position",soma+"px center")}else{var valor=$(this).data("valor"),soma=parseInt(valor)+115;$(this).data("valor",soma),$(this).css("background-position","-"+soma+"px center")}}),$("a.seta-down").on("click",function(){TweenMax.to(window,.7,{scrollTo:{y:wh,autoKill:!0},ease:Power1.easeOut,overwrite:5})})}),$(document).ready(function(){var blockscroll=!1,$menu=$("#menu");$("a.btMenu").on("click",function(){blockscroll=!0,$("body").css("overflow","hidden"),TweenMax.to($menu,1,{css:{opacity:1,display:"block"}})}),$(".lang").on("click","a",function(){var params=window.location.href.replace(baseUrl,"").replace("en/","").split("/"),href=$(this).attr("href"),url=href+params.join("/");return window.location.href=url,!1}),$("#menu a").on("click",function(){blockscroll=!1,$("body").css("overflow","auto"),TweenMax.to($menu,1,{css:{opacity:0,display:"none"}})}),$("body").on("click","#projeto .bt-projeto-read",function(){var top=$(".meta").offset().top;TweenMax.to(window,scrollTime,{scrollTo:{y:top,autoKill:!0},ease:Expo.easeOut,overwrite:5})}),$("body").on("mouseenter","#sobre .logo img",function(){var $descMarca=$(this).parent().parent().parent().parent().parent().parent();TweenMax.to($descMarca.find(".over"),.4,{css:{opacity:0}}),TweenMax.to($descMarca,.4,{css:{color:"#fff"}}),TweenMax.to($(this),.4,{css:{opacity:.44}})}).on("mouseleave","#sobre .logo img",function(){var $descMarca=$(this).parent().parent().parent().parent().parent().parent();TweenMax.to($descMarca.find(".over"),.4,{css:{opacity:1}}),TweenMax.to($descMarca,.4,{css:{color:"#000"}}),TweenMax.to($(this),.4,{css:{opacity:0}})});var $window=$(window),scrollTime=.7,windowHeight=$(window).height(),scrollDistance=windowHeight/4,oldPosition=0,iPadAgent=null!=navigator.userAgent.match(/iPad/i),iPodAgent=null!=navigator.userAgent.match(/iPhone/i),AndroidAgent=null!=navigator.userAgent.match(/Android/i),webOSAgent=null!=navigator.userAgent.match(/webOS/i),$hearderSec=$("header#secundario"),$btTop=$("a.btTop");$btTop.on("click",function(){TweenMax.to(window,scrollTime,{scrollTo:{y:0,autoKill:!0},ease:Power1.easeOut,overwrite:5})}),iPadAgent||iPodAgent||AndroidAgent||webOSAgent?$("body").addClass("mobile"):($window.on("scroll",function(){if(!blockscroll){var scrollTop=$window.scrollTop();oldPosition>scrollTop&&scrollTop>windowHeight?(TweenMax.to($hearderSec,1,{css:{top:0}}),TweenMax.to($btTop,1,{css:{bottom:10}})):(TweenMax.to($hearderSec,1,{css:{top:-80}}),TweenMax.to($btTop,1,{css:{bottom:-70}})),oldPosition=scrollTop;var $descricaoMarca=$("#descricaoMarca");if($descricaoMarca.length>0){var total=$descricaoMarca.find(".descMarca").length;scrollTop/wh>=total-1?($descricaoMarca.removeClass("fixo"),$descricaoMarca.find(".descMarca").css("top",0),$descricaoMarca.find(".descMarca").each(function(i,marca){var top=.5*(wh*i-scrollTop);$(marca).css("background-position","center "+top+"px"),$(marca).find(".logo").css("top",0)})):($descricaoMarca.addClass("fixo"),$descricaoMarca.find(".descMarca").each(function(i,marca){var top=100*i-scrollTop/wh*100;$(marca).css("top",top+"%"),$(marca).find(".logo").css("top",-top+"%")}))}}}),$window.on("mousewheel DOMMouseScroll",function(event){if(event.preventDefault(),!blockscroll){var delta=event.originalEvent.wheelDelta/120||-event.originalEvent.detail/3,scrollTop=$window.scrollTop(),finalScroll=scrollTop-parseInt(delta*scrollDistance);TweenMax.to(window,scrollTime,{scrollTo:{y:finalScroll,autoKill:!0},ease:Power4.easeOut,overwrite:5})}}),$(window).scroll(function(){var scrollWindow=$(this);whm=wh+200,$("#home .topo").css(scrollWindow.scrollTop()>whm?{zIndex:-3}:{zIndex:0})})),$("#address .container address").hover(function(){$(this).find("img").stop().fadeIn(300)},function(){$(this).find("img").stop().fadeOut(300)})});